(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){},33:function(e,t,c){},35:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(20),a=c.n(s),r=(c(30),c(4)),i=c(19),o=c(3),l=(c(31),c(18)),j=c(9),d=c(5),u=c.n(d),b=c(7),O=(c(33),"https://dummyjson.com"),h=c(1);var m=function(e){var t=Object(n.useState)({}),c=Object(r.a)(t,2),s=c[0],a=c[1],i=e.setItems,d=(e.items,e.cartItems),m=(e.setCartItems,Object(n.useState)("categories")),f=Object(r.a)(m,2),x=f[0],v=f[1],p=Object(n.useState)("brands"),g=Object(r.a)(p,2),N=g[0],I=g[1],C=Object(n.useState)([]),k=Object(r.a)(C,2),y=k[0],S=k[1],E=Object(n.useState)([]),w=Object(r.a)(E,2),q=w[0],T=w[1],F=Object(n.useState)(!0),L=Object(r.a)(F,2),P=L[0],$=L[1],B=function(){fetch("".concat(O,"/products?limit=").concat(20)).then((function(e){return e.json()})).then((function(e){console.log(e),i(e.products)}))},A=function(){var e=Object(b.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"/products/category/").concat(x));case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c.products);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=Object(o.l)();Object(n.useEffect)((function(){fetch("".concat(O,"/products/categories")).then((function(e){return e.json()})).then((function(e){console.log("categories: ",e),T(e)}))}),[]),Object(n.useEffect)((function(){s.brand&&(s.brand.selectedIndex="0"),x&&("categories"===x?($(!0),B()):($(!1),I("brands"),fetch("".concat(O,"/products/category/").concat(x)).then((function(e){return e.json()})).then((function(e){console.log(e),i(e.products),function(e){var t,c=[],n=Object(j.a)(e);try{for(n.s();!(t=n.n()).done;){var s=t.value;c.includes(s.brand.toLowerCase())||c.push(s.brand.toLowerCase())}}catch(a){n.e(a)}finally{n.f()}S(c),console.log(c)}(e.products)}))))}),[x]),Object(n.useEffect)(Object(b.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,A();case 4:t=e.sent,"brands"===N?i(t):(c=t.filter((function(e){return e.brand.toLowerCase()===N.toLowerCase()})),i(c));case 6:case"end":return e.stop()}}),e)}))),[N]);var R=q.map((function(e){return Object(h.jsx)("option",{value:e,children:e})})),V=y.map((function(e){return Object(h.jsx)("option",{value:e,children:e})}));return Object(h.jsxs)("div",{className:"Navigation",children:[Object(h.jsxs)("div",{className:"filter",children:[Object(h.jsxs)("select",{name:"",id:"categories",onChange:function(e){a(Object(l.a)(Object(l.a)({},s),{},{category:e.target}));var t=e.target.value;console.log(t),v(t)},children:[Object(h.jsx)("option",{value:"categories",selected:!0,children:"Categories"}),R]}),Object(h.jsxs)("select",{name:"",id:"brands",onChange:function(e){a(Object(l.a)(Object(l.a)({},s),{},{brand:e.target}));var t=e.target.value;console.log(t),I(t)},disabled:P,children:[Object(h.jsx)("option",{value:"brands",selected:!0,children:"Brands"}),V]}),Object(h.jsxs)("div",{className:"reset",onClick:function(){B(),s.category&&(s.category.selectedIndex="0",v("categories")),s.brand&&(s.brand.selectedIndex="0",I("brands"))},children:[Object(h.jsx)("i",{class:"fa fa-undo","aria-hidden":"true"})," Reset"]})]}),Object(h.jsxs)("div",{className:"search",children:[Object(h.jsxs)("div",{className:"searchSection",children:[Object(h.jsx)("span",{className:"searchtext",children:"Search: "}),Object(h.jsx)("input",{type:"text",onKeyPress:function(e){var t=e.target.value;"Enter"===e.code&&(e.target.value="",fetch("".concat(O,"/products/search?q=").concat(t)).then((function(e){return e.json()})).then((function(e){console.log(e),i(e.products)})))}})]}),Object(h.jsx)("div",{className:"cartBtn",children:Object(h.jsx)("button",{onClick:function(){d.length>0?H("/checkout",{}):alert("Add items in cart first")},children:"Add To Cart"})})]})]})},f=c(8),x=(c(35),c(23)),v=(c(36),function(e){var t=Object(n.useState)(0),c=Object(r.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(!1),o=Object(r.a)(i,2),l=o[0],j=o[1],d=e.image,u=e.name,b=e.rating,O=e.stock,m=e.price,v=e.isblank,p=e.id,g=e.setInputElements,N=e.inputElements,I=e.cartItems,C=e.setCartItems,k=e.items,y=e.description;Object(n.useEffect)((function(){if(I){var e=I.find((function(e){return e.id===p}));e?(a(e.qty),j(!0)):(a(0),j(!1))}}),[I,k]);var S=function(e){return Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)("input",{className:"inputQty",type:"number",name:"",id:"",defaultValue:s,onChange:function(e){var t=Number(e.target.value);if(t<=0)j(!1);else{if(t>O)return j(!1),void a(O);if(l){var c=I,n=c.findIndex((function(e){return e.id===p}));c[n].qty=t,C(c),console.log("cartitems: ",c)}}a(t),console.log("items: ",k);var s=N.map((function(e){return e.id}));if(!s.includes(p)){console.log("idarray: ",s),console.log("inputelemt: ",N);var r=[].concat(Object(f.a)(N),[{id:p,target:e.target}]);g(r)}console.log([].concat(Object(f.a)(N),[{id:p,target:e.target}]))}}),Object(h.jsx)("div",{className:"cartIcon",children:Object(h.jsx)("i",{class:"fa fa-shopping-cart","aria-hidden":"true"})}),Object(h.jsx)("input",{type:"checkbox",name:"",id:"",onChange:function(e){var t=e.target.checked;j(t),console.log("checkedState: ",t);var c=I.map((function(e){return e.id})),n=k.find((function(e){return e.id===p})),a=s;if(a>0){if(n.qty=a,t&&!c.includes(p))return C([].concat(Object(f.a)(I),[n])),void console.log("cartitems: ",[].concat(Object(f.a)(I),[n]));if(!t&&c.includes(p)){var r=I.filter((function(e){return e.id!==p}));C(r),console.log("cartitems: ",r)}}},checked:l})]})},E=function(e){return Object(h.jsx)("div",{className:"hr"})};return Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)("div",{className:"image",children:v?"":Object(h.jsx)("img",{src:d,alt:""})}),Object(h.jsx)("div",{className:"name",children:Object(h.jsx)(x.a,{content:Object(h.jsx)("div",{className:"overlay",children:Object(h.jsx)("span",{children:y})}),arrow:!0,duration:500,interactive:!0,placement:"right",children:Object(h.jsx)("span",{children:u})})}),Object(h.jsx)("div",{className:"rating",children:v?"":parseFloat(b).toFixed(2)}),Object(h.jsx)("div",{className:"stock",children:O}),Object(h.jsx)("div",{className:"price",children:v?"":"$".concat(m)}),Object(h.jsx)("div",{className:"buyoption",children:v?Object(h.jsx)(E,{}):Object(h.jsx)(S,{id:p,setInputElements:g,inputElements:N})})]})});var p=function(e){for(var t=e.items,c=e.cartItems,s=e.setCartItems,a=(e.setItems,Object(n.useState)([])),i=Object(r.a)(a,2),o=i[0],l=i[1],j=[],d=0;d<t.length;d++){var u=t[d].id,b=t[d].thumbnail,O=t[d].title,m=t[d].rating,f=t[d].stock,x=t[d].price,p=t[d].description;j.push(Object(h.jsx)(v,{id:u,name:O,image:b,rating:m,stock:f,price:x,isblank:!1,setInputElements:l,inputElements:o,cartItems:c,setCartItems:s,items:t,description:p},u)),d%2===1&&j.push(Object(h.jsx)(v,{isblank:!0}))}return console.log("temparray: ",j),Object(h.jsxs)("div",{className:"List",children:[Object(h.jsx)("div",{className:"header",children:"Image"}),Object(h.jsx)("div",{className:"header",children:"Name"}),Object(h.jsx)("div",{className:"header",children:"Rating"}),Object(h.jsx)("div",{className:"header",children:"Stock"}),Object(h.jsx)("div",{className:"header",children:"Price"}),Object(h.jsx)("div",{className:"header buy",children:Object(h.jsx)("span",{children:"Buy"})}),j]})};var g=function(e){var t=Object(n.useState)([]),c=Object(r.a)(t,2),s=c[0],a=c[1],i=e.cartItems,o=e.setCartItems;return Object(n.useEffect)((function(){fetch("".concat(O,"/products?limit=").concat(20)).then((function(e){return e.json()})).then((function(e){a(e.products)}))}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(m,{setItems:a,items:s,cartItems:i,setCartItems:o}),Object(h.jsx)(p,{items:s,cartItems:i,setCartItems:o,setItems:a})]})},N=(c(37),function(e){var t=e.cartItem,c=e.cartItems,s=e.setCartItems,a=e.render,i=e.setrender,o=t.id,l=t.title,j=t.thumbnail,d=t.price,u=t.qty,b=Object(n.useState)(1),O=Object(r.a)(b,2),m=O[0],f=O[1];Object(n.useEffect)((function(){f(u)}),[]),Object(n.useEffect)((function(){i(a+1)}),[m]);var x=function(){console.log(t);var e=c;e=e.filter((function(e){return e.id!==o})),s(e),i(a+1),console.log("cartitems: ",e)},v=function(e){1===e?m<t.stock&&f(m+1):f(m-1)};return Object(n.useEffect)((function(){if(m<=0)x();else{var e=c,t=e.findIndex((function(e){return e.id===o}));e[t].qty=m,s(e)}}),[m]),Object(h.jsxs)(n.Fragment,{children:[Object(h.jsxs)("div",{className:"product",children:[Object(h.jsx)("button",{onClick:x,children:"\xd7"}),Object(h.jsx)("img",{src:j,alt:"image"}),Object(h.jsx)("span",{children:l})]}),Object(h.jsx)("div",{className:"price",children:Object(h.jsx)("span",{children:"$"+d})}),Object(h.jsx)("div",{className:"quantity",children:Object(h.jsxs)("div",{className:"pill",children:[Object(h.jsx)("button",{onClick:function(){v(2)},className:"decrement",children:"\u2212"}),Object(h.jsx)("span",{children:m}),Object(h.jsx)("button",{onClick:function(){v(1)},className:"increment",children:"+"})]})}),Object(h.jsx)("div",{className:"subtotal",children:Object(h.jsx)("span",{children:"$"+m*d})})]})});var I=function(e){var t=e.cartItems,c=e.setCartItems,s=Object(n.useState)(0),a=Object(r.a)(s,2),i=a[0],l=a[1],d=Object(n.useState)(0),u=Object(r.a)(d,2),b=u[0],O=u[1],m=Object(o.l)();Object(n.useEffect)((function(){var e,c=0,n=Object(j.a)(t);try{for(n.s();!(e=n.n()).done;){var s=e.value;c+=s.qty*s.price}}catch(a){n.e(a)}finally{n.f()}O(c),console.log("totalprice:  ",c)}),[i]);var f=t.map((function(e){return Object(h.jsx)(N,{cartItem:e,cartItems:t,setCartItems:c,render:i,setrender:l},e.id)}));return Object(h.jsxs)("div",{className:"Checkout",children:[Object(h.jsxs)("div",{className:"itemSection",children:[Object(h.jsx)("div",{className:"header",children:"Product"}),Object(h.jsx)("div",{className:"header",children:"Price"}),Object(h.jsx)("div",{className:"header",children:"Quantity"}),Object(h.jsx)("div",{className:"header",children:"Subtotal"}),f]}),Object(h.jsxs)("div",{className:"cartSection",children:[Object(h.jsx)("h3",{children:"Cart totals"}),Object(h.jsxs)("div",{className:"subtotalSection",children:[Object(h.jsx)("div",{className:"subtotalHeader",children:"SubTotal"}),Object(h.jsx)("div",{className:"subtotalValue",children:"$".concat(b||0)})]}),Object(h.jsxs)("div",{className:"totalSection",children:[Object(h.jsx)("div",{className:"totalHeader",children:"Total"}),Object(h.jsx)("div",{className:"totalValue",children:"$".concat(b||0)})]}),Object(h.jsx)("button",{onClick:function(){m("/checkout/finish")},className:"proceed",children:"PROCEED TO CHECKOUT"})]})]})};c(38);var C=function(e){return Object(h.jsx)("div",{className:"ThankYou",children:Object(h.jsx)("h1",{children:"Thank You for Shopping"})})};var k=function(e){var t=Object(n.useState)([]),c=Object(r.a)(t,2),s=c[0],a=c[1];return Object(h.jsx)(i.a,{children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/",element:Object(h.jsx)(g,{cartItems:s,setCartItems:a})}),Object(h.jsx)(o.a,{path:"/checkout",element:Object(h.jsx)(I,{cartItems:s,setCartItems:a})}),Object(h.jsx)(o.a,{path:"/checkout/finish",element:Object(h.jsx)(C,{})})]})})};a.a.render(Object(h.jsx)(k,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.a5d9d8b3.chunk.js.map